<div style="height: 60px;"></div>
<div>
<div class="example-card">
    <mat-card-header>
    <mat-card-title class="title"><i>Izmeni liniju</i></mat-card-title>   
    </mat-card-header>
    <mat-card-content class="contentCard">
        <div style="margin-left: 5rem;color: #000;">
            <p>Naziv</p>
            <mat-form-field class="inputField"><input matInput [(ngModel)] = "drivingLine.name" ></mat-form-field>

            <p>Dani u nedelji kojima saobraca</p>
            <div style="height: 3rem;font-size: 1rem">
                <mat-form-field>
                    <mat-label>Dani u nedelji</mat-label>
                    <mat-select [formControl]="days" multiple> 
                        <mat-select-trigger >
                        {{days.value?.[0] || ''}}
                        <span *ngIf="(days.value?.length || 0) > 1"  >
                            (+{{(days.value?.length || 0) - 1}} {{days.value?.length === 2 ? 'other' : 'others'}})
                        </span>
                        </mat-select-trigger >
                        <mat-option *ngFor="let day of daysList" [value]="day" >{{day}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <p>Datum pocetka vazenja</p>
            <mat-form-field class="example-full-width" appearance="fill">
                <input matInput [matDatepicker]="picker" [formControl]="dateStart">
                <mat-datepicker-toggle matSuffix [for]="$any(picker)">
                <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
                </mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>

            <p>Datum kraja vazenja</p>
            <mat-form-field class="example-full-width" appearance="fill">
                <mat-label>Choose a date</mat-label>
                <input matInput [matDatepicker]="picker1" [formControl]="dateEnd" >
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle matSuffix [for]="picker1">
                <mat-icon matDatepickerToggleIcon>keyboard_arrow_down</mat-icon>
                </mat-datepicker-toggle>
                <mat-datepicker #picker1></mat-datepicker>
            </mat-form-field>

            <p><i>Dodaj stajalista:</i></p>
            <table>
                <tr>
                    <td>
                    Grad
                    <mat-form-field class="inputField"><input matInput [(ngModel)] = "busDeparture.city"></mat-form-field>
                    </td>
                    <td>
                    Kilometri
                    <mat-form-field class="inputField"><input matInput [(ngModel)] = "busDeparture.km"></mat-form-field>
                    </td>
                   <!-- <td>
                    Vreme dolaska<div class="ngx-timepicker-field-example">
                   <ngx-timepicker-field [format]="24"  [(ngModel)] = "busDeparture.time" class="picker"></ngx-timepicker-field></div> 
                    </td>-->
                    <td>Vreme dolaska
                        <div class="toggle-example">
                            <mat-form-field><input matInput [ngxTimepicker]="toggleTimepicker" [disableClick]="true" [(ngModel)] = "busDeparture.time" [format]="24" >
                            <!--<ngx-material-timepicker-toggle [for]="toggleTimepicker" ></ngx-material-timepicker-toggle>-->
                            <ngx-material-timepicker #toggleTimepicker></ngx-material-timepicker></mat-form-field>
                        </div>
                    </td>
                    <td>
                        <button mat-raised-button  (click)="addDeparture()" style="background-color: white;
                        color: #4775a0;margin-left:20%">+</button>
                    </td>
                </tr>
            </table>
            
            <table>
                <tr *ngFor="let departure of busDepartures">
                    <td>
                    <p>{{departure.city}}</p>
                    </td>
                    <td>
                    <p>{{departure.km}}</p>
                    </td>
                    <td>
                    <p>{{departure.time}}</p>
                    </td>
                    <td>
                        <button mat-raised-button class="buttonRemove" (click)="removeDeparture(departure)">-</button>
                    </td>
                </tr>
            </table>

            <p>Autobus</p>
            <div style="height: 3rem;font-size: 1rem">
                <mat-form-field>
                    <mat-label>Slobodni autobusi</mat-label>
                    <mat-select [formControl]="bus" [(ngModel)] = "selected">                     
                        <mat-option *ngFor="let bus of busList" [value]="bus.id" (change)="select(bus.id)" >{{bus.manufacturer}} - {{bus.seatNumber}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

        </div>
        <div class="actions">
        <button mat-raised-button class="buttonYes" (click)="add()">Yes</button>
        <button mat-raised-button class="buttonNO" (click)="cancel()">No</button>
        </div>
    </mat-card-content>
</div>


